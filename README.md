# Unicode直接入力キーボード

Unicodeを直接入力できるキーボードのソースコードです。

**矢印キーなど押せるようにした改良版ソースコードはImprovedVerブランチを参照**

## 仕様

ひらがなを入力するときは、何も押さずに下位2桁を入力する。  
アルファベットはファンクションキーを押した状態で下位2桁を入力する。  
そのほかの文字、記号はそれぞれの面のファンクションキーを押した状態で4桁を入力することにする。  

## 改良内容

14面の一部をつぶして矢印キー、スペース、シフト＋エンター、半角全角切り替えなどを実装する。   
ファームウェアのほうは14面の8以上のキーを押したときは一打で内部ステートが戻るよう変更。

14面キーを押しながら以下のキーを入力することで、各キーを入力することができる。   

A:上矢印   
D:左矢印   
E:下矢印   
F:右矢印   
B:シフト＋エンター   
C:半角スペース   
8:半角/全角切り替え   

## 動かし方

PICには[hexファイル](./Unicode_key.X/dist/default/production/Unicode_key.X.production.hex)を書き込んでください。  
PCと接続して、TeraTermなどで「1」を押したときに「U3001」や「1」などと出てくればハードウェア側はOKです。  
[PC側のアプリケーション](./UnicodeInputApp/UnicodeInputApp/bin/Debug/UnicodeInputApp.exe)をダウンロードしてください。  
起動してポート番号を選択、接続を押せば入力できるようになります。


## PIC用ソースコード

[./Unicode_key.X](./Unicode_key.X)  
キーボード本体の制御をしています。  
各ピンからの入力を受け取ってUTF8で送るだけです。  
言語はアセンブラです。    
コードは[ここ](Unicode_key.X/main.asm)  


## PC側ソースコード

[./UnicodeInputApp](./UnicodeInputApp)  
シリアルポートから読み取ってSendKey関数でキーボード入力しています。  
汚くてすいません。
言語はC#です。  
メインのコードは[ここ](./UnicodeInputApp/UnicodeInputApp/Form1.cs)  

